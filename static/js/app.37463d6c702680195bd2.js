webpackJsonp([1],{"4lvf":function(e,t){e.exports={basePath:"access",pages:{index:"/index.html",auth:"/access.html",register:"/register.html",reset:"/reset-password.html",signin:"/signinhub.html",changepass:"/change-password.html"}}},"7zck":function(e,t){},GZzL:function(e,t){e.exports={authorization:{signIn:"Sign in",mfaVerification:"MFA verification",cancel:"Cancel",ok:"Ok",usernameOrEmail:"Username or email",password:"Password",helpdesk:"helpdesk",supportIntro:"Feel free to reach our",supportEnd:"if you have questions.",createAccount:"Create an account",forgotPassword:"Forgot password",changePassword:"Change password",fieldRequired:"This field is required.",emailMustBeValid:"E-mail must be valid"},bits:{password:{passwordRequired:"Password is required.",passwordNotMatching:"Password confirmation does not match."}},registerUser:{registerNewUser:"Register a new user",email:"E-mail",optional:"Optional (required for password reset)",username:"Username",password:"Password",chooseHosting:"Choose hosting...",hosting:"Hosting",create:"Create",clear:"Clear",registeringAgreement:"By registering you agree with our",fieldRequired:"This field is required.",userSuccessfullyCreated:"New user successfully created:",goToSignIn:"Go to Sign in",termsOfUse:"terms of use"},resetPassword:{usernameOrEmail:"Username or email",password:"Password",goToSignIn:"Go to Sign in",fieldRequired:"This field is required.",setNewPassword:"Set a new password",resetPassword:"Reset password",changePassword:"Change password",requestPasswordReset:"Request password reset",passwordResetInstructionsSent:"We have sent password reset instructions to your e-mail address.",passwordSuccessfullyChanged:"Your password has been successfully changed."},changePassword:{changePassword:"Change password",usernameOrEmail:"Username or email",password:"Password",newPassword:"New password",requestPasswordChange:"REQUEST PASSWORD CHANGE",fieldRequired:"This field is required.",passwordSuccessfullyChanged:"Your password has been successfully changed."},signinHub:{signinHub:"Signin hub",usernameOrEmail:"Username or email",gotToMyHomepage:"Go to my homepage",newTo:"New to",createAccount:"Create an account",fieldRequired:"This field is required."}}},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),n=r("Xxa5"),a=r.n(n),i=r("exGp"),o=r.n(i),c=r("Zrlr"),u=r.n(c),l=r("wxAW"),p=r.n(l),d=r("+T3g"),h=r.n(d),f=function(){function e(t){var r=this;u()(this,e),this.selection=[];var s=t.regions;Object.keys(s).forEach(function(e){var t=s[e].zones;Object.keys(t).forEach(function(e){var s=t[e].hostings;Object.keys(s).forEach(function(e){var t=s[e],n=t.name||e;null!=t.description&&(n=n+" ("+t.description+")"),r.selection.push({value:e,text:n,description:t.description,availableCore:t.availableCore})})})})}return p()(e,[{key:"getSelection",value:function(){return this.selection}}]),e}(),v=r("UZ5h");function m(e,t){for(var r=e.split("."),s=t.split("."),n=0;n<r.length;++n){if(r[n]!==s[n])return r[n]>s[n];if(s.length===n+1)return!0}return!1}h.a.Service.prototype.apiEndpointForSync=function(e,t){return h.a.Service.buildAPIEndpoint(this.infoSync(),e,t)},h.a.Service.prototype.mfaChallenge=function(){var e=o()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"mfa/challenge").set("accept","json").set("Authorization",r).send({});case 2:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),h.a.Service.prototype.mfaVerify=function(){var e=o()(a.a.mark(function e(t,r,s){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"mfa/verify").set("accept","json").set("Authorization",r).send({code:s});case 2:return n=e.sent,e.abrupt("return",n.body.token);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}(),h.a.Service.prototype.checkAppAccess=function(){var e=o()(a.a.mark(function e(t,r,s){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"accesses/check-app").set("accept","json").set("Authorization",r).send(s);case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}(),h.a.Service.prototype.createAppAccess=function(){var e=o()(a.a.mark(function e(t,r,s){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"accesses").set("accept","json").set("Authorization",r).send(s);case 2:return n=e.sent,e.abrupt("return",n.body.access);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}(),h.a.Service.prototype.deleteAppAccess=function(){var e=o()(a.a.mark(function e(t,r,s){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.delete(this.apiEndpointForSync(t)+"accesses/"+s).set("accept","json").set("Authorization",r).send({id:s});case 2:return n=e.sent,e.abrupt("return",n.body.accessDeletion);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}(),h.a.Service.prototype.getAvailableHostings=function(){var e=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.get(this.infoSync().register+"hostings").set("accept","json");case 2:return t=e.sent,e.abrupt("return",new f(t.body));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),h.a.Service.prototype.createUser=function(){var e=o()(a.a.mark(function e(t,r,s,n,i,o,c,u,l){var p,d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p=this.infoSync().version,d=void 0,!p||!m(p,"1.6.0")){e.next=8;break}return e.next=5,h.a.utils.superagent.post(v.resolve(t,"users")).set("accept","json").send({appId:c,username:r,password:s,email:n,hosting:i,language:o||"en",invitationToken:u||"enjoy",referer:l});case 5:d=e.sent,e.next=11;break;case 8:return e.next=10,h.a.utils.superagent.post(this.infoSync().register+"user").set("accept","json").send({appid:c,username:r,password:s,email:n,hosting:i,languageCode:o||"en",invitationtoken:u||"enjoy",referer:l});case 10:d=e.sent;case 11:return e.abrupt("return",d.body);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,s,n,a,i,o,c,u){return e.apply(this,arguments)}}(),h.a.Service.prototype.checkUsernameExistence=function(){var e=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.infoSync().register+t+"/server").set("accept","json").send({});case 2:return r=e.sent,e.abrupt("return",r.body.server);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h.a.Service.prototype.getUsernameForEmail=function(){var e=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.search("@")<0)){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,h.a.utils.superagent.get(this.infoSync().register+t+"/uid").set("accept","json");case 4:return r=e.sent,e.abrupt("return",r.body.uid);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h.a.Service.prototype.requestPasswordReset=function(){var e=o()(a.a.mark(function e(t,r){var s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"account/request-password-reset").set("accept","json").send({appId:r,username:t});case 2:return s=e.sent,e.abrupt("return",s.status);case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),h.a.Service.prototype.resetPassword=function(){var e=o()(a.a.mark(function e(t,r,s,n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"account/reset-password").set("accept","json").send({username:t,newPassword:r,appId:n,resetToken:s});case 2:return i=e.sent,e.abrupt("return",i.status);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s,n){return e.apply(this,arguments)}}(),h.a.Service.prototype.changePassword=function(){var e=o()(a.a.mark(function e(t,r,s,n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.utils.superagent.post(this.apiEndpointForSync(t)+"account/change-password").set("accept","json").set("Authorization",n).send({oldPassword:r,newPassword:s});case 2:return i=e.sent,e.abrupt("return",i.status);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s,n){return e.apply(this,arguments)}}(),h.a.Service.prototype.loginWithThrow=function(){var e=o()(a.a.mark(function e(t,r,s,n){var i,o,c,u,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiEndpointFor(t);case 2:if(i=e.sent,e.prev=3,o={accept:"json"},e.t0=n,e.t0){e.next=10;break}return e.next=9,this.info();case 9:e.t0=e.sent.register;case 10:return n=e.t0,h.a.utils.isBrowser()||(o.Origin=n),e.next=14,h.a.utils.superagent.post(i+"auth/login").set(o).send({username:t,password:r,appId:s});case 14:if((c=e.sent).body.token){e.next=17;break}throw new Error("Invalid login response: "+c.body);case 17:return e.t1=h.a.Connection,e.t2=h.a.Service,e.next=21,this.info();case 21:return e.t3=e.sent,e.t4=t,e.t5=c.body.token,e.t6=e.t2.buildAPIEndpoint.call(e.t2,e.t3,e.t4,e.t5),e.t7=this,e.abrupt("return",new e.t1(e.t6,e.t7));case 29:if(e.prev=29,e.t8=e.catch(3),!(e.t8.response&&e.t8.response.body&&e.t8.response.body)){e.next=39;break}if(!(u=e.t8.response.body).error||!u.error.message){e.next=35;break}throw new Error(u.error.message);case 35:if(!u.mfaToken){e.next=39;break}throw(l=new Error).mfaToken=u.mfaToken,l;case 39:case"end":return e.stop()}},e,this,[[3,29]])}));return function(t,r,s,n){return e.apply(this,arguments)}}();var g=r("Zthf"),w=r.n(g),b=r("M4fF"),x=r.n(b);var y=function(){function e(t){if(u()(this,e),this.language=t.lang||"en",this.appId="pryv-app-web-auth-3",this.pollUrl=t.poll||t.pollUrl,null!=t&&null!=t.oauthState&&(this.accessState={oaccessState:t.oauthState}),this.isAccessRequest())this.pryvService=new h.a.Service;else{var r=t.pryvServiceInfoUrl||function(){if(w.a.DNSLess)return new URL("/reg/service/info",window.location.href).href;return"https://reg."+(location.hostname.split(".").slice(1).join(".")||"pryv.me")+"/service/info"}();this.pryvService=new h.a.Service(r)}this.user={username:"",personalToken:"",mfaToken:""},this.checkAppResult={},this.initialized=!1}return p()(e,[{key:"init",value:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initialized){e.next=2;break}return e.abrupt("return");case 2:if(this.initialized=!1,!this.isAccessRequest()){e.next=7;break}return e.next=6,this.loadAccessState();case 6:this.pryvService.setServiceInfo(this.accessState.serviceInfo);case 7:return e.next=9,this.pryvService.info();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isAccessRequest",value:function(){return this.pollUrl}},{key:"loadAccessState",value:function(){var e=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.utils.superagent.get(this.pollUrl).set("accept","json");case 3:return t=e.sent,this.accessState=x.a.merge(this.accessState,t.body),e.abrupt("return",this.accessState);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),new Error("Invalid data from Access server");case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateAccessState",value:function(){var e=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.accessState&&this.accessState.returnURL&&(t.returnURL=this.accessState.returnURL),e.next=3,h.a.utils.superagent.post(this.pollUrl).send(t);case 3:return r=e.sent,this.accessState=x.a.merge(this.accessState,t),null!=this.accessState.lang&&(this.language=this.accessState.lang),e.abrupt("return",r.status);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-xs-right"},[r("v-menu",{attrs:{offsetY:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("v-btn",e._g({attrs:{small:""}},s),[e._v("\n        "+e._s(e.languages.find(function(t){return t.value===e.$i18n.locale}).label)+"\n      ")])]}}])},[e._v(" "),r("v-list",e._l(e.languages,function(t){return r("v-list-tile",{key:t.value,on:{click:function(r){e.$i18n.locale=t.value}}},[r("v-list-tile-title",[e._v(e._s(t.label))])],1)}),1)],1)],1)},staticRenderFns:[]},_={name:"App",components:{LocaleChanger:r("VU/8")({data:function(){return{languages:[{value:"en",label:"🇬🇧 English"},{value:"fr",label:"🇫🇷 Français"},{value:"nl",label:"🇳🇱 Nederland"}]}}},k,!1,null,null,null).exports},data:function(){return{title:"App-web-auth3",logoSrcUrl:null}},errorCaptured:function(e,t,r){alert("[Vue warn]: Unexpected error in "+r+":\n      "+e)},created:function(){var e=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ctx=new y(this.$route.query),e.next=3,this.ctx.init();case 3:return e.next=5,this.ctx.pryvService.assets();case 5:(t=e.sent).setAllDefaults(),this.logoSrcUrl=t.relativeURL(t._assets["app-web-auth3"].logo.url);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("v-app",[t("v-content",[t("v-container",[t("LocaleChanger"),this._v(" "),t("img",{attrs:{src:this.logoSrcUrl,height:this.$vuetify.breakpoint.smAndDown?"50px":"100px"}}),this._v(" "),t("router-view")],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("head",[t("title",[this._v("Auth")]),this._v(" "),t("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Muli:300,400,500,700|Material+Icons",rel:"stylesheet"}})])}]};var P=r("VU/8")(_,S,!1,function(e){r("WNvc")},null,null).exports,A=r("/ocq"),E={props:{confirmation:{type:Boolean,default:!1},value:{type:String,default:""},label:{type:String,default:"Password"},id:{type:String,default:"password"}},data:function(){var e=this;return{visiblePass:!1,repass:"",rules:{required:function(t){return!!t||e.$i18n.t("bits.password.passwordRequired")}}}},computed:{matchPassword:function(){return this.value===this.repass||this.$t("bits.password.passwordNotMatching")}}},q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-text-field",{attrs:{id:e.id,value:e.value,appendIcon:e.visiblePass?"lock_open":"lock",type:e.visiblePass?"text":"password",rules:[e.rules.required],label:e.label},on:{input:function(t){return e.$emit("input",t)},"click:append":function(){return e.visiblePass=!e.visiblePass}}}),e._v(" "),e.confirmation?r("v-text-field",{attrs:{id:e.id+"Confirmation",type:e.visiblePass?"text":"password",rules:[e.matchPassword],label:e.label+" confirmation"},model:{value:e.repass,callback:function(t){e.repass=t},expression:"repass"}}):e._e()],1)},staticRenderFns:[]},R=r("VU/8")(E,q,!1,null,null,null).exports,$={props:{errorMsg:{type:String,default:""},successMsg:{type:String,default:""}},computed:{alertMsg:function(){return this.successMsg.length>0?this.successMsg:this.errorMsg.length>0?this.errorMsg:""},alertType:function(){return this.successMsg.length>0?"success":"error"}}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-divider",{staticClass:"mt-3 mb-2"}),this._v(" "),t("v-alert",{attrs:{value:this.alertMsg,type:this.alertType,transition:"scale-transition"}},[t("span",{domProps:{innerHTML:this._s(this.alertMsg)}})])],1)},staticRenderFns:[]},F=r("VU/8")($,U,!1,null,null,null).exports,C=r("Gu7T"),T=r.n(C),I=function(){function e(t){u()(this,e),this.msg=this.parseError(t)}return p()(e,[{key:"parseError",value:function(e){if(console.error(e),"string"==typeof e)return"<b>"+e+"</b>";if(null==e||null==e.response||null==e.response.body)return"<b>"+this.unexpectedError()+"</b>";var t=e.response.body,r=t.error,s="<b>"+this.parseErrorData(r||t)+"</b>",n=r?r.body:t.errors;return s+=this.parseSubErrors(n),r&&r.data&&Array.isArray(r.data)&&(s+=this.parseValidationSubErrors(r.data)),s}},{key:"parseValidationSubErrors",value:function(e){var t="";return null!=e&&Array.isArray(e)&&e.forEach(function(e){t+="<br/>"+e.message}),t}},{key:"parseSubErrors",value:function(e){var t=this,r="";return null!=e&&Array.isArray(e)&&e.forEach(function(e){r+="<br/>"+t.parseErrorData(e)}),r}},{key:"parseErrorData",value:function(e){return e.detail||e.message||this.unexpectedError()}},{key:"unexpectedError",value:function(){return"Unexpected error"}}]),e}(),M=r("d7EF"),j=r.n(M);var z,N=function(e){var t=e.accessState.returnURL;if(null!=t&&"false"!==t&&t){if(t.endsWith("?")||(t+="?"),e.accessState.oaccessState){var r="";e.accessState.key&&(r="&code="+e.accessState.key),t+="state="+e.accessState.oaccessState+r+"&poll="+e.pollUrl}else{t+="prYvpoll="+e.pollUrl;var s=!0,n=!1,a=void 0;try{for(var i,o=Object.entries(e.accessState)[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var c=i.value,u=j()(c,2),l=u[0],p=u[1];"string"!=typeof p&&"number"!=typeof p||(t+="&prYv"+l+"="+p)}}catch(e){n=!0,a=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw a}}}location.href=t}else window.close()},D=(z=o()(a.a.mark(function e(t){var r,s,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.checkAppResult.mismatchingAccess){e.next=6;break}return e.next=3,t.pryvService.deleteAppAccess(t.user.username,t.user.personalToken,t.checkAppResult.mismatchingAccess.id);case 3:if(e.sent.id){e.next=6;break}throw new Error("Failed removing existing access");case 6:return r={permissions:t.checkAppResult.checkedPermissions,name:t.accessState.requestingAppId,type:"app"},["deviceName","token","expireAfter","clientData"].forEach(function(e){void 0!==t.accessState[e]&&(r[e]=t.accessState[e])}),e.next=10,t.pryvService.createAppAccess(t.user.username,t.user.personalToken,r);case 10:return s=e.sent,n={status:"ACCEPTED",apiEndpoint:t.pryvService.apiEndpointForSync(t.user.username,s.token),username:t.user.username,token:s.token},e.next=14,t.updateAccessState(n);case 14:N(t);case 15:case"end":return e.stop()}},e,this)})),function(e){return z.apply(this,arguments)}),O=function(){var e=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pryvService.getUsernameForEmail(t.user.username);case 2:return r=t.user.username=e.sent,e.next=5,t.pryvService.checkUsernameExistence(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=o()(a.a.mark(function e(t,r,s){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.next=4,t.pryvService.resetPassword(t.user.username,r,s,t.appId);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}(),V=function(){var e=o()(a.a.mark(function e(t,r,s){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.next=4,t.pryvService.changePassword(t.user.username,r,s,t.user.personalToken);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,s){return e.apply(this,arguments)}}(),L=function(){var e=o()(a.a.mark(function e(t,r){var s,n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={},["requestingAppId","requestedPermissions","deviceName","token","expireAfter","clientData"].forEach(function(e){void 0!==t.accessState[e]&&(s[e]=t.accessState[e])}),e.next=4,t.pryvService.checkAppAccess(t.user.username,t.user.personalToken,s);case 4:if(null==(n=e.sent).matchingAccess){e.next=10;break}return i={status:"ACCEPTED",apiEndpoint:t.pryvService.apiEndpointForSync(t.user.username,n.matchingAccess.token),username:t.user.username,token:n.matchingAccess.token},e.next=9,t.updateAccessState(i);case 9:return e.abrupt("return",N(t));case 10:null!=n.checkedPermissions&&(t.accessState.requestedPermissions=n.checkedPermissions),t.checkAppResult=n,r();case 13:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=o()(a.a.mark(function e(t,r,s,n,i){var o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,t.accessState&&(o=t.accessState.referer||t.accessState.requestingAppId),e.next=5,t.pryvService.createUser(r,t.user.username,s,n,i,t.language,t.appId,null,o);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e,this)}));return function(t,r,s,n,a){return e.apply(this,arguments)}}(),W=function(){var e=o()(a.a.mark(function e(t){var r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pryvService.getAvailableHostings();case 2:return r=e.sent,s=r.getSelection(),e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=o()(a.a.mark(function e(t,r){var s,n,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.accessState||"NEED_SIGNIN"===t.accessState.status){e.next=2;break}return e.abrupt("return",N(t));case 2:return e.next=4,O(t);case 4:return s=t.user.username,e.prev=5,e.next=8,t.pryvService.loginWithThrow(s,r,t.appId);case 8:n=e.sent,t.user.personalToken=n.token||"",e.next=29;break;case 12:if(e.prev=12,e.t0=e.catch(5),null==e.t0.mfaToken){e.next=27;break}return i=e.t0.mfaToken,e.prev=16,e.next=19,t.pryvService.mfaChallenge(s,i);case 19:t.user.mfaToken=i||"",e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(16),new I("Failed to perform MFA challenge.");case 25:e.next=29;break;case 27:throw o=e.t0.message||"Failed to login.",new I(o);case 29:case"end":return e.stop()}},e,this,[[5,12],[16,22]])}));return function(t,r){return e.apply(this,arguments)}}(),Y=function(){var e=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:"REFUSED",reasonId:"REFUSED_BY_USER",message:"The user refused to give access to the requested permissions"},e.prev=1,e.next=4,t.updateAccessState(r);case 4:return e.prev=4,N(t),e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.next=4,t.pryvService.requestPasswordReset(t.user.username,t.appId);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pryvService.info();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=o()(a.a.mark(function e(t,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.pryvService.mfaVerify(t.user.username,t.user.mfaToken,r);case 3:t.user.personalToken=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new I("MFA verification failed.");case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t,r){return e.apply(this,arguments)}}();function K(e,t){var r=this;return o()(a.a.mark(function s(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.apply(void 0,[e].concat(T()(i)));case 3:return r.abrupt("return",r.sent);case 6:if(r.prev=6,r.t0=r.catch(0),!(r.t0 instanceof I)){r.next=12;break}throw r.t0;case 12:throw new I(r.t0);case 13:case"end":return r.stop()}},s,r,[[0,6]])}))}var Q=function(e){return{acceptAccess:K(e,D),resetPassword:K(e,H),changePassword:K(e,V),checkAccess:K(e,L),createUser:K(e,G),loadHostings:K(e,W),login:K(e,B),refuseAccess:K(e,Y),requestResetPassword:K(e,Z),getServiceInfo:K(e,J),checkUsername:K(e,O),mfaVerify:K(e,X)}},ee={components:{Password:R,Alerts:F},data:function(){var e=this;return{password:"",email:"",hosting:"",hostingsSelection:[],newUser:null,submitting:!1,ctx:{},c:null,error:"",success:"",rules:{required:function(t){return!!t||e.$i18n.t("registerUser.fieldRequired")}},validForm:!1}},created:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ctx=new y(this.$route.query),e.next=3,this.ctx.init();case 3:this.c=Q(this.ctx),this.c.loadHostings().then(this.initHostings).catch(this.showError);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{submit:function(){var e=this;if(this.$refs.form.validate()){this.submitting=!0,this.generateRandomEmailIfNeeded();var t="";this.hostingsSelection.forEach(function(r){r.value===e.hosting&&(t=r.availableCore)}),this.c.createUser(t,this.password,this.email,this.hosting).then(function(t){e.newUser=t,e.success=e.$t("registerUser.userSuccessfullyCreated")+" "+t.username+".",e.ctx.isAccessRequest()||(location.href=e.ctx.pryvService.apiEndpointForSync(t.username))}).catch(this.showError).finally(function(){e.submitting=!1})}},clear:function(){this.$refs.form.reset()},initHostings:function(e){this.hostingsSelection=e,this.hostingsSelection.length>0&&(this.hosting=this.hostingsSelection[0].value)},showError:function(e){this.error=e.msg},generateRandomEmailIfNeeded:function(){(null==this.email||"string"==typeof this.email&&0===this.email.length)&&(this.email=function(e){for(var t="",r="abcdefghijklmnopqrstuvwxyz0123456789",s=r.length,n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*s));return t}(20)+"@pryv.io")}}};var te={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.$t("registerUser.registerNewUser")))]),e._v(" "),null==e.newUser?r("v-form",{ref:"form",attrs:{id:"registerForm"},on:{submit:function(e){e.preventDefault()}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-text-field",{attrs:{id:"email",label:e.$t("registerUser.email"),placeholder:e.$t("registerUser.optional")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{attrs:{id:"username",rules:[e.rules.required],label:e.$t("registerUser.username")},model:{value:e.ctx.user.username,callback:function(t){e.$set(e.ctx.user,"username",t)},expression:"ctx.user.username"}}),e._v(" "),r("Password",{attrs:{label:e.$t("registerUser.password"),confirmation:!0},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("v-autocomplete",{attrs:{id:"hosting",items:e.hostingsSelection,rules:[e.rules.required],placeholder:e.$t("registerUser.chooseHosting"),label:e.$t("registerUser.hosting")},model:{value:e.hosting,callback:function(t){e.hosting=t},expression:"hosting"}}),e._v(" "),r("v-btn",{attrs:{id:"submitButton",disabled:!e.validForm||e.submitting},on:{click:e.submit}},[e._v(e._s(e.$t("registerUser.create")))]),e._v(" "),r("v-btn",{attrs:{id:"clearButton"},on:{click:e.clear}},[e._v(e._s(e.$t("registerUser.clear")))]),e._v(" "),r("div",[e._v("\n      "+e._s(e.$t("registerUser.registeringAgreement"))+"\n      "),r("a",{attrs:{target:"_blank",href:"https://pryv.com/terms-of-use/"}},[e._v("\n      "+e._s(e.$t("registerUser.termsOfUse")))]),e._v(".\n    ")])],1):e._e(),e._v(" "),e.ctx.isAccessRequest()?r("div",[r("v-divider",{staticClass:"mt-3 mb-2"}),e._v(" "),r("router-link",{attrs:{to:{name:"Authorization"}}},[r("h3",[e._v(e._s(e.$t("registerUser.goToSignIn")))])])],1):e._e(),e._v(" "),r("Alerts",{attrs:{successMsg:e.success,errorMsg:e.error}})],1)},staticRenderFns:[]},re=r("VU/8")(ee,te,!1,null,null,null).exports,se={components:{Password:R,Alerts:F},props:{resetToken:{type:String,default:null}},data:function(){var e=this;return{password:"",error:"",success:"",showForm:!0,submitting:!1,ctx:{},c:null,rules:{required:function(t){return!!t||e.$i18n.t("resetPassword.fieldRequired")}},validForm:!1}},computed:{pageTitle:function(){return this.resetToken?this.$t("resetPassword.setNewPassword"):this.$t("resetPassword.resetPassword")},buttonText:function(){return this.resetToken?this.$t("resetPassword.changePassword"):this.$t("resetPassword.requestPasswordReset")}},created:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ctx=new y(this.$route.query),e.next=3,this.ctx.init();case 3:this.c=Q(this.ctx);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{submit:function(){var e=this;this.$refs.form.validate()&&(this.submitting=!0,null==this.resetToken?this.c.requestResetPassword().then(function(){e.showForm=!1,e.success=e.$t("resetPassword.passwordResetInstructionsSent")}).catch(this.showError).finally(function(){e.submitting=!1}):this.c.resetPassword(this.password,this.resetToken).then(function(){e.showForm=!1,e.success=e.$t("resetPassword.passwordSuccessfullyChanged")}).catch(this.showError).finally(function(){e.submitting=!1}))},showError:function(e){this.error=e.msg}}},ne={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.pageTitle))]),e._v(" "),e.showForm?r("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-text-field",{attrs:{id:"usernameOrEmail",rules:[e.rules.required],label:e.$t("resetPassword.usernameOrEmail")},model:{value:e.ctx.user.username,callback:function(t){e.$set(e.ctx.user,"username",t)},expression:"ctx.user.username"}}),e._v(" "),null!=e.resetToken?r("Password",{attrs:{label:e.$t("resetPassword.password"),confirmation:!0},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),e._v(" "),r("v-btn",{attrs:{id:"submitButton",disabled:!e.validForm||e.submitting},on:{click:e.submit}},[e._v(e._s(e.buttonText))])],1):e._e(),e._v(" "),e.ctx.isAccessRequest()?r("div",[r("v-divider",{staticClass:"mt-3 mb-2"}),e._v(" "),r("router-link",{attrs:{to:{name:"Authorization"}}},[r("h3",[e._v(e._s(e.$t("resetPassword.goToSignIn")))])])],1):e._e(),e._v(" "),r("Alerts",{attrs:{successMsg:e.success,errorMsg:e.error}})],1)},staticRenderFns:[]},ae=r("VU/8")(se,ne,!1,null,null,null).exports,ie=r("EFqf"),oe=r.n(ie),ce={props:{ctx:{type:Object,default:function(){}}},data:function(){return{dialog:!0,accessState:null,checkAppResult:null}},computed:{consentMsg:function(){if(null!=this.ctx.accessState.clientData){var e=this.ctx.accessState.clientData["app-web-auth:description"];return null!=e?oe()(e.content):""}},accessMismatch:function(){return null!=this.ctx.checkAppResult.mismatchingAccess},expire:function(){return null!=this.ctx.accessState.expireAfter}},created:function(){this.accessState=this.ctx.accessState,this.checkAppResult=this.ctx.checkAppResult},methods:{closeDialog:function(e){this.dialog=!1,this.$emit(e)}}},ue={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"600",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2",attrs:{id:"appIdText"}},[r("span",[r("b",[e._v(e._s(e.accessState.requestingAppId))])])]),e._v(" "),r("v-card-text",{staticStyle:{"text-align":"left"}},[r("h4",[e._v("Is requesting permission:")]),e._v(" "),r("ul",e._l(e.accessState.requestedPermissions,function(t,s){return r("li",{key:s},[e._v("\n          to "+e._s(t.level.toLowerCase())+" "),r("u",[e._v(e._s("*"===t.streamId?"* (all data)":t.name||t.defaultName))])])}),0),e._v(" "),e.expire?r("span",{staticStyle:{"text-align":"left"}},[r("b",[e._v("will expire after:")]),e._v(" "+e._s(e.accessState.expireAfter)+"s\n      ")]):e._e(),e._v(" "),r("br"),e._v(" "),e.consentMsg?r("span",{domProps:{innerHTML:e._s(e.consentMsg)}}):e._e()]),e._v(" "),e.accessMismatch?r("v-alert",{staticStyle:{"text-align":"left"},attrs:{value:e.accessMismatch,type:e.alertType,transition:"scale-transition"}},[r("b",[e._v("A different access was already given to this app. Do you want to replace it?")])]):e._e(),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{id:"refusePermissions"},on:{click:function(t){return e.closeDialog("refused")}}},[e._v("Reject")]),e._v(" "),r("v-btn",{attrs:{id:"acceptPermissions"},on:{click:function(t){return e.closeDialog("accepted")}}},[e._v("Accept")])],1)],1)],1)},staticRenderFns:[]},le={components:{Password:R,Permissions:r("VU/8")(ce,ue,!1,null,null,null).exports,Alerts:F},data:function(){var e=this;return{password:"",personalToken:"",mfaToken:"",mfaCode:"",error:"",checkedPermissions:null,checkAppResult:null,serviceInfos:{},submitting:!1,c:null,ctx:{},rules:{required:function(t){return!!t||e.$i18n.t("authorization.fieldRequired")},email:function(t){return/.+@.+/.test(t)||e.$i18n.t("authorization.emailMustBeValid")}},validForm:!1}},computed:{mfaActivated:{get:function(){return""!==this.ctx.user.mfaToken}}},created:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ctx=new y(this.$route.query),e.next=3,this.ctx.init();case 3:this.c=Q(this.ctx),this.c.getServiceInfo().then(this.showInfos).catch(this.showError);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{submit:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$refs.form.validate()){e.next=18;break}return this.submitting=!0,e.prev=2,e.next=5,this.c.login(this.password);case 5:if(this.ctx.accessState){e.next=7;break}throw new Error('Context access state not defined. Verify that you are performing an Auth request process and either "poll" is specified in query parameters.');case 7:if(this.mfaActivated){e.next=10;break}return e.next=10,this.c.checkAccess(this.showPermissions);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.showError(e.t0);case 15:return e.prev=15,this.submitting=!1,e.finish(15);case 18:case"end":return e.stop()}},e,this,[[2,12,15,18]])}));return function(){return e.apply(this,arguments)}}(),handleMFA:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.c.mfaVerify(this.mfaCode);case 3:return e.next=5,this.c.checkAccess(this.showPermissions);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.showError(e.t0);case 10:return e.prev=10,this.ctx.user.mfaToken="",e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),showPermissions:function(){this.checkAppResult=this.ctx.checkAppResult,this.checkedPermissions=this.ctx.checkedPermissions},accept:function(){this.c.acceptAccess().catch(this.showError)},refuse:function(){this.c.refuseAccess().catch(this.showError)},showError:function(e){this.error=e.msg||e.message},showInfos:function(e){this.serviceInfos=e}}},pe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.$t("authorization.signIn")))]),e._v(" "),null!=e.ctx.checkAppResult.checkedPermissions?r("Permissions",{attrs:{ctx:e.ctx},on:{accepted:e.accept,refused:e.refuse}}):e._e(),e._v(" "),r("v-dialog",{attrs:{persistent:"",width:"600"},model:{value:e.mfaActivated,callback:function(t){e.mfaActivated=t},expression:"mfaActivated"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(e._s(e.$t("authorization.mfaVerification")))]),e._v(" "),r("v-text-field",{staticClass:"ma-3",attrs:{id:"mfaCode",rules:[e.rules.required],label:"MFA code"},model:{value:e.mfaCode,callback:function(t){e.mfaCode=t},expression:"mfaCode"}}),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{on:{click:function(t){e.ctx.user.mfaToken="",e.mfaCode=""}}},[e._v(e._s(e.$t("authorization.cancel")))]),e._v(" "),r("v-btn",{on:{click:function(t){return e.handleMFA()}}},[e._v(e._s(e.$t("authorization.ok")))])],1)],1)],1),e._v(" "),r("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-text-field",{attrs:{id:"usernameOrEmail",rules:[e.rules.required],label:e.$t("authorization.usernameOrEmail")},model:{value:e.ctx.user.username,callback:function(t){e.$set(e.ctx.user,"username",t)},expression:"ctx.user.username"}}),e._v(" "),r("Password",{attrs:{label:e.$t("authorization.password")},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("v-btn",{attrs:{id:"submitButton",disabled:!e.validForm||e.submitting},on:{click:e.submit}},[e._v(e._s(e.$t("authorization.signIn")))]),e._v(" "),r("v-btn",{on:{click:e.refuse}},[e._v(e._s(e.$t("authorization.cancel")))]),e._v(" "),e.serviceInfos.support?r("div",[e._v("\n      "+e._s(e.$t("authorization.supportIntro"))+"\n      "),r("a",{attrs:{href:e.serviceInfos.support,target:"_blank"}},[e._v(" "+e._s(e.$t("authorization.helpdesk")))]),e._v("\n      "+e._s(e.$t("authorization.supportEnd"))+"\n    ")]):e._e()],1),e._v(" "),r("v-divider",{staticClass:"mt-3 mb-2"}),e._v(" "),r("router-link",{attrs:{to:{name:"RegisterUser"}}},[r("h3",[e._v(e._s(e.$t("authorization.createAccount")))])]),e._v(" "),r("router-link",{attrs:{to:{name:"ResetPassword"}}},[r("h3",[e._v(e._s(e.$t("authorization.forgotPassword")))])]),e._v(" "),r("router-link",{attrs:{to:{name:"ChangePassword"}}},[r("h3",[e._v(e._s(e.$t("authorization.changePassword")))])]),e._v(" "),r("Alerts",{attrs:{errorMsg:e.error}})],1)},staticRenderFns:[]},de=r("VU/8")(le,pe,!1,null,null,null).exports,he={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("404 - Page not found")]),this._v("\n  The page you are looking for is like time in quantum gravity theories, it does not exist.\n")])}]},fe=r("VU/8")(null,he,!1,null,null,null).exports,ve={components:{Alerts:F},data:function(){var e=this;return{username:"",error:"",ctx:{},c:null,rules:{required:function(t){return!!t||e.$i18n.t("signinHub.fieldRequired")}},validForm:!1,serviceInfo:{name:""}}},created:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ctx=new y(this.$route.query),e.next=3,this.ctx.init();case 3:return this.c=Q(this.ctx),e.next=6,this.ctx.pryvService.info();case 6:this.serviceInfo=e.sent;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{submit:function(){this.$refs.form.validate()&&this.c.checkUsername().then(this.toMyPryv).catch(this.showError)},toMyPryv:function(){location.href=this.ctx.pryvService.apiEndpointForSync(this.ctx.user.username)},showError:function(e){this.error=e.msg}}},me={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.$t("signinHub.signinHub")))]),e._v(" "),r("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-text-field",{attrs:{id:"usernameOrEmail",rules:[e.rules.required],label:e.$t("signinHub.usernameOrEmail")},model:{value:e.ctx.user.username,callback:function(t){e.$set(e.ctx.user,"username",t)},expression:"ctx.user.username"}}),e._v(" "),r("v-btn",{attrs:{id:"submitButton",disabled:!e.validForm},on:{click:e.submit}},[e._v(e._s(e.$t("signinHub.gotToMyHomepage")))])],1),e._v(" "),r("v-divider",{staticClass:"mt-3 mb-2"}),e._v(" "),r("router-link",{attrs:{to:{name:"RegisterUser"}}},[r("h3",[e._v(e._s(e.$t("signinHub.newTo"))+" "+e._s(e.serviceInfo.name)+" ? "+e._s(e.$t("signinHub.createAccount")))])]),e._v(" "),r("Alerts",{attrs:{errorMsg:e.error}})],1)},staticRenderFns:[]},ge=r("VU/8")(ve,me,!1,null,null,null).exports,we={components:{Password:R,Alerts:F},data:function(){var e=this;return{showForm:!0,oldPassword:"",newPassword:"",error:"",success:"",submitting:!1,ctx:{},controllerFactory:null,rules:{required:function(t){return!!t||e.$i18n.t("changePassword.fieldRequired")}},validForm:!1}},created:function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.ctx=new y(this.$route.query),e.next=3,this.ctx.init();case 3:this.controllerFactory=Q(this.ctx);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{submit:function(){var e=this;this.$refs.form.validate()&&(this.submitting=!0,this.controllerFactory.login(this.oldPassword).then(function(){return e.controllerFactory.changePassword(e.oldPassword,e.newPassword)}).then(function(){e.showForm=!1,e.success=e.$t("changePassword.passwordSuccessfullyChanged")}).catch(this.showError).finally(function(){e.submitting=!1}))},showError:function(e){this.error=e.msg}}},be={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.$t("changePassword.changePassword")))]),e._v(" "),e.showForm?r("v-form",{ref:"form",on:{submit:function(e){e.preventDefault()}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[r("v-text-field",{attrs:{id:"usernameOrEmail",rules:[e.rules.required],label:e.$t("changePassword.usernameOrEmail")},model:{value:e.ctx.user.username,callback:function(t){e.$set(e.ctx.user,"username",t)},expression:"ctx.user.username"}}),e._v(" "),r("Password",{attrs:{confirmation:!1,label:e.$t("changePassword.password"),id:"oldPassword"},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),e._v(" "),r("Password",{attrs:{confirmation:!0,label:e.$t("changePassword.newPassword"),id:"newPassword"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),e._v(" "),r("v-btn",{attrs:{id:"submitButton",disabled:!e.validForm||e.submitting},on:{click:e.submit}},[e._v(e._s(e.$t("changePassword.requestPasswordChange")))])],1):e._e(),e._v(" "),r("Alerts",{attrs:{successMsg:e.success,errorMsg:e.error}})],1)},staticRenderFns:[]},xe=r("VU/8")(we,be,!1,null,null,null).exports,ye=r("4lvf"),ke=r.n(ye);s.default.use(A.a);var _e=new URL(document.location).pathname,Se=_e.substring(0,_e.lastIndexOf("/access/"))+"/"+ke.a.basePath,Pe=new A.a({mode:"history",base:Se,routes:[{path:"/",redirect:{name:"Authorization"}},{path:"/auth",name:"Authorization",component:de,alias:ke.a.pages.auth},{path:"/register",name:"RegisterUser",component:re,alias:ke.a.pages.register},{path:"/reset",name:"ResetPassword",component:ae,props:function(e){return{resetToken:e.query.resetToken}},alias:ke.a.pages.reset},{path:"/signin",name:"SigninHub",component:ge,alias:ke.a.pages.signin},{path:"/change-password",name:"ChangePassword",component:xe,alias:ke.a.pages.changepass},{path:"*",component:fe}]});function Ae(e){return!!Object.keys(e.query).length}Pe.beforeEach(function(e,t,r){!Ae(e)&&Ae(t)?r({name:e.name,query:t.query}):r()});var Ee=Pe,qe=r("3EgV"),Re=r.n(qe),$e=(r("7zck"),r("TXmL")),Ue=r("GZzL"),Fe=r.n(Ue),Ce=r("VuYv"),Te=r.n(Ce),Ie=r("iRTj"),Me=r.n(Ie),je={en:Fe.a,fr:Te.a,nl:Me.a};s.default.use(Re.a),s.default.use($e.a);var ze=new $e.a({locale:navigator.language.split("-")[0],fallbackLocale:"en",messages:je});s.default.config.productionTip=!1,new s.default({el:"#app",i18n:ze,router:Ee,components:{App:P},template:"<App/>"})},VuYv:function(e,t){e.exports={authorization:{signIn:"S'identifier",mfaVerification:"Vérification MFA",cancel:"Annuler",ok:"Ok",usernameOrEmail:"Nom d'utilisateur ou email",password:"Mot de passe",helpdesk:"bureau d'aide",supportIntro:"N'hésitez pas à joindre notre",supportEnd:"si vous avez des questions.",createAccount:"Créer un compte",forgotPassword:"Mot de passe oublié",changePassword:"Changer le mot de passe",fieldRequired:"Ce champ est requis.",emailMustBeValid:"L'email doit être valide"},bits:{password:{passwordRequired:"Le mot de passe est requis.",passwordNotMatching:"La confirmation du mot de passe ne correspond pas."}},registerUser:{registerNewUser:"Enregistrer un nouvel utilisateur",email:"Email",optional:"Facultatif (requis pour la réinitialisation du mot de passe)",username:"Nom d'utilisateur",password:"Mot de passe",chooseHosting:"Choisissez l'hébergement ...",hosting:"Hébergement",create:"Créer",clear:"Effacer",registeringAgreement:"En vous inscrivant, vous acceptez nos",fieldRequired:"Ce champ est requis.",userSuccessfullyCreated:"Nouvel utilisateur créé avec succès:",goToSignIn:"Aller à la connexion",termsOfUse:"conditions d'utilisation"},resetPassword:{usernameOrEmail:"Nom d'utilisateur ou email",password:"Mot de passe",goToSignIn:"Aller à la connexion",fieldRequired:"Ce champ est requis.",setNewPassword:"Définissez un nouveau mot de passe",resetPassword:"Réinitialiser le mot de passe",changePassword:"Changer le mot de passe",requestPasswordReset:"Demander la réinitialisation du mot de passe",passwordResetInstructionsSent:"Nous avons envoyé des instructions de réinitialisation de mot de passe à votre adresse e-mail.",passwordSuccessfullyChanged:"Votre mot de passe a été modifié avec succès."},changePassword:{changePassword:"Changer le mot de passe",usernameOrEmail:"Nom d'utilisateur ou email",password:"Mot de passe",newPassword:"Nouveau mot de passe",requestPasswordChange:"DEMANDER UN CHANGEMENT DE MOT DE PASSE",fieldRequired:"Ce champ est requis.",passwordSuccessfullyChanged:"Votre mot de passe a été changé avec succès."},signinHub:{signinHub:"Hub de connexion",usernameOrEmail:"Nom d'utilisateur ou email",gotToMyHomepage:"Aller sur ma page d'accueil",newTo:"Nouveau sur",createAccount:"Créer un compte",fieldRequired:"Ce champ est requis."}}},WNvc:function(e,t){},Zthf:function(e,t){e.exports={DNSLess:!1}},iRTj:function(e,t){e.exports={authorization:{signIn:"Inloggen",mfaVerification:"MFA verificatie",cancel:"Annuleren",ok:"Ok",usernameOrEmail:"Gebruikersnaam of email",password:"Wachtwoord",helpdesk:"helpdesk",supportIntro:"Voel je vrij om onze",supportEnd:"als je vragen hebt.",createAccount:"Account aanmaken",forgotPassword:"Wachtwoord vergeten",changePassword:"Verander wachtwoord",fieldRequired:"Dit veld is verplicht.",emailMustBeValid:"Email moet geldig zijn"},bits:{password:{passwordRequired:"Een wachtwoord is verplicht.",passwordNotMatching:"Wachtwoordbevestiging komt niet overeen."}},registerUser:{registerNewUser:"Registreer een nieuwe gebruiker",email:"E-mail",optional:"Optioneel (vereist voor wachtwoordreset)",username:"Gebruikersnaam",password:"Wachtwoord",chooseHosting:"Kies hosting ...",hosting:"Hosting",create:"Creëer",clear:"Doorzichtig",registeringAgreement:"Door te registreren gaat u akkoord met onze",fieldRequired:"Dit veld is verplicht.",userSuccessfullyCreated:"Nieuwe gebruiker succesvol aangemaakt:",goToSignIn:"Ga naar Inloggen",termsOfUse:"gebruiksvoorwaarden"},resetPassword:{usernameOrEmail:"Gebruikersnaam of email",password:"Wachtwoord",goToSignIn:"Ga naar Inloggen",fieldRequired:"Dit veld is verplicht.",setNewPassword:"Stel een nieuw wachtwoord in",resetPassword:"Wachtwoord opnieuw instellen",changePassword:"Verander wachtwoord",requestPasswordReset:"Wachtwoord reset aanvragen",passwordResetInstructionsSent:"We hebben instructies voor het opnieuw instellen van het wachtwoord naar uw e-mailadres gestuurd.",passwordSuccessfullyChanged:"Uw wachtwoord is succesvol gewijzigd."},changePassword:{changePassword:"Verander wachtwoord",usernameOrEmail:"Gebruikersnaam of email",password:"Wachtwoord",newPassword:"Nieuw paswoord",requestPasswordChange:"VRAAG WACHTWOORD AAN",fieldRequired:"Dit veld is verplicht.",passwordSuccessfullyChanged:"Uw wachtwoord is succesvol gewijzigd."},signinHub:{signinHub:"Signin-hub",usernameOrEmail:"Gebruikersnaam of email",gotToMyHomepage:"Ga naar mijn homepage",newTo:"Nieuw in",createAccount:"Account aanmaken",fieldRequired:"Dit veld is verplicht."}}},kGJU:function(e,t){e.exports={name:"pryv",version:"2.0.7",homepage:"https://github.com/pryv/lib-js",description:"Pryv Javascript Library",keywords:["Pryv"],repository:{type:"git",url:"git://github.com/pryv/lib-js"},bugs:{url:"https://github.com/pryv/lib-js/issues"},author:{name:"Pryv S.A."},main:"src/index.js",license:"BSD-3-Clause",scripts:{setup:"./scripts/setup-environment-dev.sh",build:"webpack --config webpack.config.js",doc:"node node_modules/jsdoc/jsdoc.js -c .jsdoc-conf.json",test:"mocha --reporter spec  test/**/*.test.js","test-debug":"mocha --inpect-brk=40000 --reporter spec  test/**/*.test.js ","test:browser":"npm run build; ",cover:"nyc npm run test && npm run cover:report","cover:report":"nyc report --reporter=lcov --reporter=html",webserver:"node node_modules/rec-la/webserver/main.js ./dist 9443","gh-pages":"./scripts/upload.sh",clear:"rm -r dist/ && npm run setup"},contributors:[{name:"Pierre-Mikael Legris",email:"perki@pryv.com"}],dependencies:{superagent:"^5.2.2"},devDependencies:{"@pryv/lib-js-common":"git+https://github.com/pryv/lib-js-common.git#1.0.1","@pryv/monitor":"^1.0.0","@pryv/socket.io":"^1.0.1",chai:"^4.2.0","chai-as-promised":"^7.1.1",cuid:"^2.1.8",jsdoc:"^3.6.4",mocha:"^6.2.3","node-fetch":"^2.6.0",nyc:"^14.1.1","rec-la":"^0.1.14","universal-url":"^2.0.0",zombie:"^6.1.4"}}}},["NHnr"]);
//# sourceMappingURL=app.37463d6c702680195bd2.js.map